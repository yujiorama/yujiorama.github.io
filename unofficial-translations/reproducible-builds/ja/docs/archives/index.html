<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
  <meta charset="utf-8">
  <title>アーカイブのメタデータ（Archive metadata） &mdash; reproducible-builds.org</title>

  <link rel="stylesheet" href="/unofficial-translations/reproducible-builds/assets/styles/main.css">
  <link rel="shortcut icon" type="image/png" href="/unofficial-translations/reproducible-builds/assets/images/favicon.png"/>

  <link href="/unofficial-translations/reproducible-builds/assets/fonts/overpass.css" rel="stylesheet">
  <link href="/unofficial-translations/reproducible-builds/assets/fonts/overpass-mono.css" rel="stylesheet">
  <link rel="stylesheet" href="/unofficial-translations/reproducible-builds/assets/static/open-iconic-bootstrap.css" />
  <link rel="stylesheet" href="/unofficial-translations/reproducible-builds/assets/static/bootstrap.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top rb-navbar__top">
  <a class="navbar-brand" href="/unofficial-translations/reproducible-builds/ja/">
    <img src="/unofficial-translations/reproducible-builds/assets/images/logo-text-white.png" height="30" width="auto" alt=""></img>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse " id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto display-xs">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/">Home</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/news/">News</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/docs/">Documentation</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/tools/">Tools</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/projects/">Who is involved?</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/resources/">Talks</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/events/">Events</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/citests/">Continuous tests</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/contribute/">Contribute</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link" href="/unofficial-translations/reproducible-builds/ja/sponsors/">Our sponsors</a>
      </li>
      
      

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="languagesNavbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img class="half-opacity" src="/unofficial-translations/reproducible-builds/assets/images/icons/translate-white-24dp.svg" alt="change language" height="24" width="24"/>
        </a>
        <div class="dropdown-menu" aria-labelledby="languagesNavbarDropdown">
          
          <a class="dropdown-item" href="/unofficial-translations/reproducible-builds/ja/docs/archives/">English</a>
          
          <a class="dropdown-item" href="/de/docs/archives/">Deutsch</a>
          
          <a class="dropdown-item disabled" href="/unofficial-translations/reproducible-builds/ja/docs/archives/">日本語</a>
          
        </div>
      </li>

    </ul>

  </div>

  <ul class="navbar-nav display-md">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <img class="half-opacity" src="/unofficial-translations/reproducible-builds/assets/images/icons/translate-white-24dp.svg" alt="change language" height="24" width="24"/>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
        
        <a class="dropdown-item" href="/unofficial-translations/reproducible-builds/ja/docs/archives/">English</a>
        
        <a class="dropdown-item" href="/de/docs/archives/">Deutsch</a>
        
        <a class="dropdown-item disabled" href="/unofficial-translations/reproducible-builds/ja/docs/archives/">日本語</a>
        
      </div>
    </li>
  </ul>

</nav>


    <div class="row h-100">
      <div class="col-md-2 col-sm-3 d-none d-sm-block p-0 position-fixed">
        <div class="sidebar rb-sidebar__1" id="sidebar1">

  <div class="row">
  <ul class="list-group pt-5">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/" class="sidebar__link__darkGray never-active">Home</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/news/" class="sidebar__link__darkGray ">News</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/docs/" class="sidebar__link__darkGray ">Documentation</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/tools/" class="sidebar__link__darkGray ">Tools</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/projects/" class="sidebar__link__darkGray ">Who is involved?</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/resources/" class="sidebar__link__darkGray ">Talks</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/events/" class="sidebar__link__darkGray ">Events</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/citests/" class="sidebar__link__darkGray ">Continuous tests</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/contribute/" class="sidebar__link__darkGray ">Contribute</a>
    </li>
    
    
    
    <li class="list-group-item rb-main-sidebar">
      <a href="/unofficial-translations/reproducible-builds/ja/sponsors/" class="sidebar__link__darkGray ">Our sponsors</a>
    </li>
    
    
  </ul>
  </div>




<div class="row">
<div class="fixed-bottom">
    
    <div class="col-md-2 col-sm-3 mb-2 p-2">
        <div class="card text-center">
            <a href="https://security.googleblog.com/" name="Google Open Source Security Team">
                <img class="w-100 p-1" src="/unofficial-translations/reproducible-builds/assets/images/sponsors/google-open-source.png" alt="Google Open Source Security Team">
            </a>
        </div>
    </div>
    
</div>
</div>





</div>

      </div>
      <div class="col-md-10 col-xs-12 col-sm-9 p-0 dyn-left">
        <main role="main" class="content-scroll p-5" data-spy="scroll" data-target="#components-nav" data-offset="0">
          


<p class="d-lg-none">&larr; <a href="/unofficial-translations/reproducible-builds/ja/docs/">Documentation index</a></p>


<div class="row">
  <div class="col-lg-9">
    <h1 class="mb-4">アーカイブのメタデータ（Archive metadata）</h1>

    <!-- Most archive formats record metadata that will capture details about the
build environment if no care is taken. File last modification time is
obvious, but file ordering, users, groups, numeric ids, and permissions
can also be of concern. Tar will be used as the main example but these tips
apply to other archive formats as well. -->
<p>ほとんどのアーカイブ形式は、特別に指定しない限り、ビルド環境に由来する情報をメタデータとして記録するようになっています。
わかりやすいのはファイルの最終更新日時ですが、ファイルの並び順、ユーザー、グループ、（数値の）ID、権限も気になるところです。
このセクションでは説明用に Tar 形式を使用しますが、他の形式についてもだいたい同じことが言えると思います。</p>

<h2 id="ファイル変更日時">ファイル変更日時</h2>

<!-- Most archive formats will, by default, record file last modification
times, while some will also record file creation times. -->
<p>ほとんどのアーカイブ形式ではファイルの最終変更日時と作成日時を記録します。</p>

<!-- Tar has a way to specify the modification time that is used for all
archive members: -->
<p>Tar では指定した変更日時を全てのファイルに設定できます。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ tar --mtime<span class="o">=</span><span class="s1">&#39;2015-10-21 00:00Z&#39;</span> -cf product.tar build</code></pre></figure>

<!-- (Notice how `Z` is used to specify that time is in the UTC
[timezone](/docs/timezones/).) -->
<p>（日時文字列末尾の <code>Z</code> は <a href="/unofficial-translations/reproducible-builds/ja/docs/timezones/">タイムゾーン</a> が UTC であることを示しています）</p>

<!-- For other archive formats, it is always possible to use `touch` to reset
the modification times to a [predefined value](/docs/timestamps/)
before creating the archive: -->
<p>Tar 以外のアーカイブ形式では、アーカイブを作成する前に <code>touch</code> コマンドで <a href="/unofficial-translations/reproducible-builds/ja/docs/timestamps/">任意の変更日時</a> を設定できます。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ find build -print0 <span class="p">|</span>
    xargs -0r touch --no-dereference --date<span class="o">=</span><span class="s2">&quot;@</span><span class="si">${</span><span class="nv">SOURCE_DATE_EPOCH</span><span class="si">}</span><span class="s2">&quot;</span>
$ zip -r product.zip build</code></pre></figure>

<!-- In some cases, it is preferable to keep the original times for files
that have not been created or modified during the build process: -->
<p>ビルドプロセスで作成、変更しないファイルについては元の日時を残すほうが望ましいでしょう。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ find build -newermt <span class="s2">&quot;@</span><span class="si">${</span><span class="nv">SOURCE_DATE_EPOCH</span><span class="si">}</span><span class="s2">&quot;</span> -print0 <span class="p">|</span>
    xargs -0r touch --no-dereference --date<span class="o">=</span><span class="s2">&quot;@</span><span class="si">${</span><span class="nv">SOURCE_DATE_EPOCH</span><span class="si">}</span><span class="s2">&quot;</span>
$ zip -r product.zip build</code></pre></figure>

<!-- A patch has been written to simplify the latter operation with GNU
Tar. It is currently available in Debian since
[tar](https://packages.qa.debian.org/tar) version 1.28-1. Hopefully it
will be integrated upstream soon, but you might want to use it with
caution. It adds a new `--clamp-mtime` flag which will only set the time
when the file is more recent than the value specified with `--mtime`: -->
<p>GNU Tar について後者の場合を簡単に扱うための修正パッチが作成されています。
Debian の <a href="https://packages.qa.debian.org/tar">tar</a> についてはバージョン 1.28-1 から利用できるようになりました。
少し待てば upstream に反映されるでしょうけど、使うときは注意が必要です。
新しいフラグ <code>--clamp-mtime</code> を指定すると、<code>--mtime</code> で指定した日時より変更日時が新しいファイルの日時を変更するようになります。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span><span class="c1"># Only in Debian unstable for now</span>
$ tar --mtime<span class="o">=</span><span class="s1">&#39;2015-10-21 00:00Z&#39;</span> --clamp-mtime -cf product.tar build</code></pre></figure>

<!-- This has the benefit of leaving the original file modification time
untouched. -->
<p>元から存在するファイルの変更日時を変更したくないときは便利な機能です。</p>

<h2 id="ファイルの並び順">ファイルの並び順</h2>

<!-- When asked to record directories, most archive formats will read their
content in the order returned by the filesystem which is [likely to be
different on every run](/docs/stable-inputs/). -->
<p>たいていのアーカイブ形式では、ディレクトリの内容を読み取るとき、ファイルの並び順はファイルシステムと同じようになります。
つまり、<a href="/unofficial-translations/reproducible-builds/ja/docs/stable-inputs/">実行するたびに変化する場合があります</a>。</p>

<!-- With version 1.28, GNU Tar has gained the `--sort=name` option which will
sort filenames in a locale independent manner: -->
<p>GNU Tar では、バージョン 1.28 で導入した <code>--sort=name</code> フラグを使用すると、ロケールに依存せずファイルを並び替えることができるようになりました。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span><span class="c1"># Works with GNU Tar 1.28</span>
$ tar --sort<span class="o">=</span>name -cf product.tar build</code></pre></figure>

<!-- For older versions or other archive formats, it is possible to use
`find` and `sort` to achieve the same effect: -->
<p>それより古いバージョン、あるいは他のアーカイブ形式では、<code>find</code> コマンドと <code>sort</code> コマンドを組み合わせれば同じ結果を生成できます。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ find build -print0 <span class="p">|</span> <span class="nv">LC_ALL</span><span class="o">=</span>C sort -z <span class="p">|</span>
    tar --no-recursion --null -T - -cf product.tar</code></pre></figure>

<!-- Care must be taken to ensure that `sort` is called in the context of the
C locale to avoid any surprises related to collation order. -->
<p><code>sort</code> コマンドを実行するとき、意図しない照合順序で並び替えが行われないよう、ロケールを <code>C</code> にするのを忘れないようにしましょう。</p>

<h2 id="ユーザーグループ数値のid">ユーザー、グループ、（数値の）ID</h2>

<!-- Depending on the archive format, the user and group owning the file
can be recorded. Sometimes it will be using a string, sometimes using
the associated numeric ids. -->
<p>アーカイブ形式によってはファイル所有者のユーザーやグループを記録できます。
文字列の場合もありますし、対応する（数値の）IDの場合もあります。</p>

<!-- When files belong to predefined system groups, this is not a problem,
but builds are often performed with regular users. Recording of the
account name or its associated ids might be a source of reproducibility
issues. -->
<p>既定のシステムグループに所属するファイルなら何も問題はありません。
しかし、ほとんどの場合ビルドを実行するのは一般ユーザーです。
アカウント名や関連するIDを記録してしまうと、ビルドの再現性を損ねてしまう場合があります。</p>

<!-- Tar offers a way to specify the user and group owning the file. Using
`0`/`0` and `--numeric-owner` is a safe bet, as it will effectively
record 0 as values: -->
<p>Tar ではファイル所有者のユーザーやグループを指定できます。
ユーザーとグループに <code>0</code> を指定して <code>--numeric-owner</code> も一緒に指定するのが安全です。
そうすれば確実に 0 を記録するからです。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>$ tar --owner<span class="o">=</span><span class="m">0</span> --group<span class="o">=</span><span class="m">0</span> --numeric-owner -cf product.tar build</code></pre></figure>

<h2 id="pax-ヘッダ">PAX ヘッダ</h2>

<!-- GNU tar defaults to the pax format and if `POSIXLY_CORRECT` is set, that adds files' ctime, atime and the PID of the tar process as non-deterministic metadata. -->
<p>GNU Tar で PAX 形式を使用するときに環境変数 <code>POSIXLY_CORRECT</code> を設定すると、ファイルの作成日時、アクセス日時、tar プロセスのプロセスIDを非決定論的に決まるメタデータとして追加するようになります。</p>

<!-- To avoid this, either `unset POSIXLY_CORRECT` (only works with [tar>1.32](https://git.savannah.gnu.org/cgit/tar.git/commit/?id=ef0f882382f6)) or add to the tar call
`--pax-option=exthdr.name=%d/PaxHeaders/%f,delete=atime,delete=ctime` or `--format=gnu` (both only available in GNU tar)
or use `--format=ustar` if the limitations in that format are not a problem. -->
<p>この振る舞いを止めるには、<code>POSIXLY_CORRECT</code> を設定しないか（<a href="https://git.savannah.gnu.org/cgit/tar.git/commit/?id=ef0f882382f6">tar 1.32 より新しいバージョン</a> が必要です）、tar の引数に <code>--pax-option=exthdr.name=%d/PaxHeaders/%f,delete=atime,delete=ctime</code> や <code>--format=gnu</code> を追加するか（どちらも GNU Tar で使用できるフラグです）、特に問題なければ <code>--format=usatr</code> を使用します。</p>

<h2 id="完全な例">完全な例</h2>

<!-- The recommended way to create a Tar archive is thus: -->
<p>Tar コマンドでアーカイブを作成するときのお手本です。</p>

<div class="correct">

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span><span class="c1"># requires GNU Tar 1.28+</span>
$ tar --sort<span class="o">=</span>name <span class="se">\</span>
      --mtime<span class="o">=</span><span class="s2">&quot;@</span><span class="si">${</span><span class="nv">SOURCE_DATE_EPOCH</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
      --owner<span class="o">=</span><span class="m">0</span> --group<span class="o">=</span><span class="m">0</span> --numeric-owner <span class="se">\</span>
      --pax-option<span class="o">=</span>exthdr.name<span class="o">=</span>%d/PaxHeaders/%f,delete<span class="o">=</span>atime,delete<span class="o">=</span>ctime <span class="se">\</span>
      -cf product.tar build</code></pre></figure>

</div>

<h2 id="後処理">後処理</h2>

<!-- If tools do not support options to create reproducible archives, it is
always possible to perform post-processing. -->
<p>再現性のあるアーカイブを作成できないツールでも、後処理でどうにかなる場合があります。</p>

<!-- [strip-nondeterminism](https://packages.debian.org/sid/strip-nondeterminism)
already has support to normalize Zip and Jar archives (with [limitations](https://bugs.debian.org/859103)). Custom scripts
like Tor Browser's
[re-dzip.sh](https://gitweb.torproject.org/builders/tor-browser-bundle.git/tree/gitian/build-helpers/re-dzip.sh)
might also be an option. -->
<p><a href="https://packages.debian.org/sid/strip-nondeterminism">strip-nondeterminism</a> は Zip や Jar アーカイブの正規化に対応しています（<a href="https://bugs.debian.org/859103">制限</a> はあります）。
Tor Browser の使用するスクリプト <a href="https://gitweb.torproject.org/builders/tor-browser-bundle.git/tree/gitian/build-helpers/re-dzip.sh">re-dzip.sh</a> のような方法もあるでしょう。</p>

<h2 id="静的ライブラリ">静的ライブラリ</h2>

<!-- Static libraries (`.a`) on Unix-like systems are *ar* archives. Like
other archive formats, they contain metadata, namely timestamps, UIDs,
GIDs, and permissions. None are actually required for using them as
libraries. -->
<p>UNIX 風システムでは、<em>ar</em> というアーカイブ形式の静的ライブラリ（<code>.a</code> ファイル）を使用します。
他のアーカイブ形式と同様に、タイムスタンプやユーザーID、グループID、ファイル権限をメタデータとして記録しています。
どれもライブラリとして使用するときは不要な情報です。</p>

<!-- GNU `ar` and other tools from
[binutils](https://www.gnu.org/software/binutils/) have a *deterministic
mode* which will use zero for UIDs, GIDs, timestamps, and use consistent
file modes for all files. It can be made the default by passing the
`--enable-deterministic-archives` option to `./configure`. It is already
enabled by default for some distributions[^distros-with-default] and so
far it seems to be pretty safe [except for
Makefiles](https://bugs.debian.org/798804) using targets like
`archive.a(foo.o)`. -->
<p>GNU Ar や <a href="https://www.gnu.org/software/binutils/">binutils</a> 由来のツールは、ユーザーID、グループID、タイムスタンプを 0 にして全てのファイルを同じ種類として扱う <em>deterministic mode</em> に対応しています。
<code>./configure</code> の引数に <code>--enable-deterministic-archives</code> を指定すると、有効になります。
ディストリビューションによっては有効化された状態で配布しているし[distros-with-default]、Makefile のターゲットが <code>archive.a(foo.o)</code> になっている場合を除けば安全だと言えるでしょう（<a href="https://bugs.debian.org/798804">関連する不具合</a>）。</p>

<!-- When binutils is not built with deterministic archives by default, build
systems have to be changed to pass the right options to `ar` and
friends. `ARFLAGS` can be set to `Dcvr` with many build systems to turn on the
deterministic mode. Care must also be taken to pass `-D` if `ranlib` is
used to create the function index. -->
<p>binutils を <code>--enable-deterministic-archives</code> でビルドしていない場合、ビルドシステムは <code>ar</code> や関連するコマンドに適切な引数を渡さないといけません。
たいていのビルドシステムでは環境変数 <code>ARFLAGS</code> に <code>Dcvr</code> を設定すれば、deterministic mode を有効化できます。
関数索引を作成するために <code>ranlib</code> を使っているときは <code>-D</code> を渡すのを忘れないようにしてください。</p>

<!-- Another option is post-processing with
[strip-nondeterminism](https://packages.debian.org/sid/strip-nondeterminism)
or `objcopy`: -->
<p>後処理の方法として、<a href="https://packages.debian.org/sid/strip-nondeterminism">strip-nondeterminism</a> を使う方法や、<code>objcopy</code> を使う方法があります。</p>

<pre><code>    objcopy --enable-deterministic-archives libfoo.a
</code></pre>

<!-- The above does not fix [file ordering](/docs/stable-inputs/). -->
<p>前の実行方法では <a href="/unofficial-translations/reproducible-builds/ja/docs/stable-inputs/">ファイルの並び順</a> を固定できません。</p>

<!-- [^distros-with-default]: Debian since [version 2.25-6](https://tracker.debian.org/news/675691)/stretch, Ubuntu since version 2.25-8ubuntu1/artful 17.10. It is the default for Fedora 22 and Fedora 23, but it seems this will be [reverted in Fedora 24](https://bugzilla.redhat.com/show_bug.cgi?id=1195883). -->

<h2 id="initramfs-イメージ">Initramfs イメージ</h2>

<!-- *cpio* archives are commonly used for initramfs images. The *cpio* header
format (see `man 5 cpio`) can contain device and inode numbers, which whilst
deterministic, can vary from system to system. -->
<p>initramfs イメージは <em>cpio</em> 形式のアーカイブです。
<em>cpio</em> ヘッダー形式（詳しくは <code>man 5 cpio</code> してください）にはデバイスやiノード番号を記録できますが、これらはシステムによって異なります。</p>

<!-- One way to filter these is by piping through bsdtar. -->
<p>これらの情報を除外する方法として、<code>bsdtar</code> をパイプで連結する方法があります。</p>

<!-- Example of non-deterministic code: -->
<p>決定論的な結果にならない例です。</p>

<pre><code>echo ucode.bin |
    bsdcpio -o -H newc -R 0:0 &gt; ucode.img
</code></pre>

<!-- Example of deterministic code: -->
<p>決定論的な結果になる例です。</p>

<pre><code>echo ucode.bin |
    bsdtar --uid 0 --gid 0 -cnf - -T - |
    bsdtar --null -cf - --format=newc @- &gt; ucode.img
</code></pre>

<!-- Note that other issues such as timestamps may still require rectification prior
to archival. -->
<p>タイムスタンプなどの問題も解決する必要があるので注意してください。</p>

<h2 id="gnu-libtool">GNU Libtool</h2>

<!-- [GNU Libtool](https://www.gnu.org/software/libtool/) prior to `74c8993c` (first
included in version 2.2.7b) did not sort the find output. It appears that many
packages are bootstrapped with a version prior to this. -->
<p>コミットハッシュが <code>74c8993c</code> 以前（最初に取り込まれたバージョンは 2.2.7b）の <a href="https://www.gnu.org/software/libtool/">GNU Libtool</a> では、find コマンドの結果を並び替えていませんでした。
そういう状態で作成された（ブートストラップされた）パッケージは大量に存在します。</p>

<!-- Confusingly, although [GNU GCC](https://gcc.gnu.org/)'s `ltmain.sh` claims to
have been generated by libtool 2.2.7a, GNU GCC actually maintains their own
version of `libtool.m4` and `ltmain.sh`, which fixed this issue independently
in `d41cd173e23`. This aforementioned change was first included in version
9.1.0, meaning that the reproducibility issue remains in GCC versions below
that. -->
<p><a href="https://gcc.gnu.org/">GNU GCC</a> の <code>ltmain.sh</code> は libtool 2.2.7a が生成した、と報告するのですが、GNU GCC は独自に <code>libtoo.m4</code> と <code>ltmain.sh</code> を保守しており、再現性の問題については <code>d41cd173e23</code> で解消済みになっています。
この修正が取り込まれた最初のバージョンは 9.1.0 なので、それより前のバージョンの GCC にはビルドの再現性を損ねる可能性が残っていると言えます。</p>


    
      <hr class="my-5">

      <p class="d-none">&larr; <a href="/unofficial-translations/reproducible-builds/ja/docs/">Documentation index</a></p>
    
  </div>

  <div class="col-lg-3">
    
    <p class="mt-5 d-lg-block"><a href="/unofficial-translations/reproducible-builds/ja/docs/">Documentation home</a></p>
    

    
    <h5>Introduction</h5>

    <ul class="list-unstyled">
    
      

      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/definition/">定義（Definitions）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/history/">History</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/buy-in/">やってみる（Buy-in）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/plans/">計画する（Making plans）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/publications/">Academic publications</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    </ul>
    
    <h5>Achieve deterministic builds</h5>

    <ul class="list-unstyled">
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/source-date-epoch/">SOURCE_DATE_EPOCH</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/deterministic-build-systems/">確実なビルドシステム（Deterministic build systems）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/volatile-inputs/">揮発性のある入力データは消える場合がある（Volatile inputs can disappear）</a>
          
        </li>
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/stable-inputs/">入力データの順序を固定する（Stable order for inputs）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/value-initialization/">値を初期化する（Value initialization）</a>
          
        </li>
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/version-information/">バージョン情報（Version information）</a>
          
        </li>
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/timestamps/">タイムスタンプ（Timestamps）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/timezones/">タイムゾーン（Timezones）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/locales/">ロケール（Locales）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
        <li>
          
          <strong>アーカイブのメタデータ（Archive metadata）</strong>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/stable-outputs/">出力データの順序を固定する（Stable order for outputs）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/randomness/">無作為性（Randomness）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/build-path/">ビルド時のファイルシステムパス（Build path）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/system-images/">システムイメージ（System images）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/jvm/">JVM</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    </ul>
    
    <h5>Define a build environment</h5>

    <ul class="list-unstyled">
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/perimeter/">ビルド環境に含む要素（What's in a build environment?）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/recording/">ビルド環境を記録する（Recording the build environment）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/definition-strategies/">ビルド環境の定義における戦略（Definition strategies）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/proprietary-os/">Proprietary operating systems</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    </ul>
    
    <h5>Distribute the environment</h5>

    <ul class="list-unstyled">
    
      

      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/build-toolchain-from-source/">ソースコードからビルドする（Building from source）</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/virtual-machine-drivers/">Virtual machine drivers</a>
          
        </li>
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/formal-definition/">Formal definition</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    </ul>
    
    <h5>Verification</h5>

    <ul class="list-unstyled">
    
      

      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/checksums/">Cryptographic checksums</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/embedded-signatures/">Embedded signatures</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/sharing-certifications/">Sharing certifications</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
        <li>
          
          <a href="/unofficial-translations/reproducible-builds/ja/docs/rebuilders/">Rebuilders</a>
          
        </li>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    </ul>
    

    <h5>Specifications</h5>

    <ul class="list-unstyled">
      <li>
        <a href="https://yujiorama.github.io/unofficial-translations/reproducible-builds//ja/specs/source-date-epoch/"><tt>SOURCE_DATE_EPOCH</tt></a>
      </li>
      <li>
        <a href="https://yujiorama.github.io/unofficial-translations/reproducible-builds//ja/specs/build-path-prefix-map/"><tt>BUILD_PATH_PREFIX_MAP</tt> (WIP)</a>
      </li>
    </ul>
  </div>
</div>


          <div class="row">
  <div class="col-12 p-0">
    <p class="mt-5 mb-5">
      <span class="text-muted small d-none d-sm-block">
        Follow us on Twitter <a href="https://twitter.com/ReproBuilds">@ReproBuilds</a>, Mastodon <a href="https://fosstodon.org/@reproducible_builds">@reproducible_builds@fosstodon.org</a> &amp;
        <a href="https://reddit.com/r/reproduciblebuilds">Reddit</a> and
        please consider <a href="/unofficial-translations/reproducible-builds/ja/sponsor/">making a donation</a>.
        &bull;
        Content licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="rb-link" target="_blank">CC BY-SA 4.0</a>,
        style licensed under <a href="https://opensource.org/licenses/MIT" class="rb-link" title="MIT" target="_blank">MIT</a>.
        Templates and styles based on the <a href="https://styleguide.torproject.org/" target="_blank">Tor Styleguide</a>.
        Logos and trademarks belong to their respective owners.
        &bull;
        Patches welcome <a href="https://salsa.debian.org/reproducible-builds/reproducible-website">via our Git repository</a>
        (<a href="/unofficial-translations/reproducible-builds/ja/contribute/salsa/">instructions</a>) or via <a href="https://lists.reproducible-builds.org/listinfo/rb-general">our mailing list</a>.
        &bull;
        <a href="/unofficial-translations/reproducible-builds/ja/who/">Full contact info</a>
      </span>
    </p>

    <p class="d-none d-md-block float-left">
      <a href="https://sfconservancy.org"><img src="/unofficial-translations/reproducible-builds/assets/images/footer/conservancy.png" height="66" width="auto" alt=""/></a>
    </p>

    <p class="text-center float-md-right">
      <a href="/unofficial-translations/reproducible-builds/ja/"><img src="/unofficial-translations/reproducible-builds/assets/images/footer/logo-text.svg" height="45" width="auto" alt=""/></a>
    </p>
  </div>
</div>

        </main>
      </div>
    </div>

    <script src="/unofficial-translations/reproducible-builds/assets/javascript/jquery-3.3.1.slim.min.js"></script>
<script src="/unofficial-translations/reproducible-builds/assets/javascript/bootstrap.min.js"></script>
<script type="text/javascript" src="/unofficial-translations/reproducible-builds/assets/javascript/index.js"></script>

  </body>
</html>
